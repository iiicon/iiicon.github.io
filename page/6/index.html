<!DOCTYPE html>



  


<html class="theme-next muse use-motion" lang="zh-Hans,en,default">
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css">







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT">










<meta name="description" content="coding note and life perception 代码笔记和生活感悟">
<meta property="og:type" content="website">
<meta property="og:title" content="一个没有情趣和色彩的人">
<meta property="og:url" content="https://sgw.wiki/page/6/index.html">
<meta property="og:site_name" content="一个没有情趣和色彩的人">
<meta property="og:description" content="coding note and life perception 代码笔记和生活感悟">
<meta property="og:locale" content="zh-Hans">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="一个没有情趣和色彩的人">
<meta name="twitter:description" content="coding note and life perception 代码笔记和生活感悟">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="https://sgw.wiki/page/6/">





  <title>一个没有情趣和色彩的人</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">一个没有情趣和色彩的人</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">正经点 少说话</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br>
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            归档
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://sgw.wiki/2019/07/17/React组件通信-EventHub/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="iiicon">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="一个没有情趣和色彩的人">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/07/17/React组件通信-EventHub/" itemprop="url">React组件通信-EventHub</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-07-17T19:56:12+08:00">
                2019-07-17
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/React/" itemprop="url" rel="index">
                    <span itemprop="name">React</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="代码仓库"><a href="#代码仓库" class="headerlink" title="代码仓库"></a>代码仓库</h3><p><a href="https://github.com/iiicon/react-demo-advance/blob/master/src/pages/RA2_1/index.jsx" target="_blank" rel="noopener">eventHub</a><br><a href="https://github.com/iiicon/react-demo-advance/blob/master/src/pages/RA2_2/index.jsx" target="_blank" rel="noopener">redux</a></p>
<h3 id="任意两个组件如何通信-amp-amp-发布订阅模式"><a href="#任意两个组件如何通信-amp-amp-发布订阅模式" class="headerlink" title="任意两个组件如何通信&amp;&amp;发布订阅模式"></a>任意两个组件如何通信&amp;&amp;发布订阅模式</h3><p>一个组件发布一个事件，另一个组件订阅这个事件，订阅事件的时候就是把触发的函数 push 到队列里，发布就是挨个执行这些函数，并把 payload 作为函数的参数执行</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">let fnObject = &#123;&#125;</span><br><span class="line">let eventHub = &#123;</span><br><span class="line">  // 发布</span><br><span class="line">  trigger(eventName, data) &#123;</span><br><span class="line">    let fnList = fnObject[eventName]</span><br><span class="line">    if (!fnList) &#123;</span><br><span class="line">      return</span><br><span class="line">    &#125;</span><br><span class="line">    for (let i = 0; i &lt; fnList.length; i++) &#123;</span><br><span class="line">      fnList[i](data)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  // 订阅</span><br><span class="line">  on(eventName, fn) &#123;</span><br><span class="line">    if (!fnObject[eventName]) &#123;</span><br><span class="line">      fnObject[eventName] = []</span><br><span class="line">    &#125;</span><br><span class="line">    fnObject[eventName].push(fn)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// eventHub 的 subscribe</span><br><span class="line">let x = &#123;</span><br><span class="line">  init() &#123;</span><br><span class="line">    eventHub.on(&apos;xxx&apos;, function(data)=&gt;&#123; // subscribe</span><br><span class="line">      store.money -= data // reducer</span><br><span class="line">      render()</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">x.init()</span><br></pre></td></tr></table></figure>
<p>需要像上面这样的一个事件中心，管理发布和订阅，就是 trigger 和 on 两个函数</p>
<p>你在需要这个事件的地方去订阅，把需要执行的函数放在里 eventHub.on(eventName, fn)</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">eventHub.on(&apos;cost&apos;, data =&gt; &#123;</span><br><span class="line">  this.setState(&#123;</span><br><span class="line">    money: this.state.money - data</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p>在执行组件行为的时候，你就可以发布一个事件（其实就是执行刚才那个函数）</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">eventHub.trigger(&apos;cost&apos;, 100)</span><br></pre></td></tr></table></figure>
<p>这就是发布订阅模式。</p>
<h3 id="利用-redux-进行组件通信"><a href="#利用-redux-进行组件通信" class="headerlink" title="利用 redux 进行组件通信"></a>利用 redux 进行组件通信</h3><p>当然我们很多时候数据都是自上而下的单向数据流，这样的情况我们只需要在顶层组件去订阅事件，然后在需要的时候去发布事件就行了，这样所有组件都能共享数据了</p>
<p><code>redux</code> 就是专门做这个的工具，需要用 <code>store</code> 对象来管理所有数据，下面是 <code>redux</code> 的主要步骤:</p>
<ol>
<li>第一步引入 <code>createStore</code> 函数 <strong>createStore</strong></li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">import &#123; createStore &#125; from &apos;redux&apos;</span><br></pre></td></tr></table></figure>
<ol start="2">
<li>这个函数接受一个 <code>reducer</code> 的数据操作函数 <strong>reducer</strong></li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">let reducers = (state, action) =&gt; &#123; // reducer</span><br><span class="line">  state = state || &#123; money: 10000 &#125;</span><br><span class="line">  switch (action.type) &#123;</span><br><span class="line">    case &apos;cost&apos;:</span><br><span class="line">      return &#123;</span><br><span class="line">        money: state.money - action.payload</span><br><span class="line">      &#125;</span><br><span class="line">    default:</span><br><span class="line">      return state</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ol start="3">
<li>创建 <code>store</code> 对象, 参数是 <code>reducer</code> 函数 <strong>store</strong></li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">let store = createStore(reducer)</span><br></pre></td></tr></table></figure>
<ol start="4">
<li>你好像必须在顶层组件 <code>store.getState()</code> 获取数据</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;App money=&#123;store.getState().money&#125; /&gt;</span><br></pre></td></tr></table></figure>
<ol start="5">
<li>如果你要发布一个事件，用来和别的组件通信，你需要： <strong>dispatch action</strong></li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">store.dispatch(&#123; type: &apos;cost&apos;, payload: 100 &#125;)</span><br><span class="line">这个就对应上面发布 eventHub.trigger(&apos;cost&apos;, 100)</span><br></pre></td></tr></table></figure>
<p><strong>type 就是 action-type</strong><br><strong>payload 就是 action-payload</strong></p>
<ol start="6">
<li>当然必须要订阅才能监听到发布的事件 <strong>subscribe</strong></li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">const render = () =&gt;</span><br><span class="line">  ReactDOM.render(</span><br><span class="line">    &lt;RA22 /&gt;,</span><br><span class="line">    document.getElementById(&apos;root2&apos;)</span><br><span class="line">  )</span><br><span class="line">render()</span><br><span class="line">store.subscribe(render) // 只要 store 一变化，subscribe 里面的函数就会执行，这个函数就是上面的 `x.init()`</span><br></pre></td></tr></table></figure>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://sgw.wiki/2019/07/17/js位运算符/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="iiicon">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="一个没有情趣和色彩的人">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/07/17/js位运算符/" itemprop="url">js位运算符</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-07-17T11:49:35+08:00">
                2019-07-17
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/js/" itemprop="url" rel="index">
                    <span itemprop="name">js</span>
                  </a>
                </span>

                
                
              
            </span>
          

          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="js-中的数字"><a href="#js-中的数字" class="headerlink" title="js 中的数字"></a>js 中的数字</h3><ul>
<li>所有 js 数字都被存储为 64 位浮点数，整数精度最多为 15 位，小数精度的对多为 17 位，浮点数的运算并不是百分之百的准确</li>
<li>位运算直接对二进制位进行计算，位运算直接处理每一个 bit 位，是非常底层的运算，优点是速度非常快，缺点是不太直观，很多场合不能使用</li>
<li>位运算只对整数起作用，如果一个运算数不是整数，会自动转为整数后再运行</li>
<li>在 js 中数字是 64 位浮点数，但是在做位运算的时候，是以 32 位带符号的整数进行运算的，并且返回值也是一个带符号的 32 位的整数</li>
</ul>
<h3 id="js-中常用的七个位运算符"><a href="#js-中常用的七个位运算符" class="headerlink" title="js 中常用的七个位运算符"></a>js 中常用的七个位运算符</h3><h4 id="按位与-AND-amp"><a href="#按位与-AND-amp" class="headerlink" title="按位与(AND) &amp;"></a>按位与(AND) &amp;</h4><p>如果都是 1，返回 1，否则返回 0</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">// 1的二进制表示为: 00000000 00000000 00000000 00000001</span><br><span class="line">// 3的二进制表示为: 00000000 00000000 00000000 00000011</span><br><span class="line">// -----------------------------</span><br><span class="line">// 1的二进制表示为: 00000000 00000000 00000000 00000001</span><br><span class="line">console.log(1 &amp; 3)     // 1</span><br></pre></td></tr></table></figure>
<h4 id="按位或（OR）"><a href="#按位或（OR）" class="headerlink" title="按位或（OR）|"></a>按位或（OR）|</h4><p>有 1 就返回 1，否则返回 0</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">// 1的二进制表示为: 00000000 00000000 00000000 00000001</span><br><span class="line">// 3的二进制表示为: 00000000 00000000 00000000 00000011</span><br><span class="line">// -----------------------------</span><br><span class="line">// 3的二进制表示为: 00000000 00000000 00000000 00000011</span><br><span class="line">console.log(1 | 3)     // 3</span><br></pre></td></tr></table></figure>
<h4 id="按位异传（XOR）"><a href="#按位异传（XOR）" class="headerlink" title="按位异传（XOR）^"></a>按位异传（XOR）^</h4><p>只有有一个 1 返回 1，否则返回 0</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">// 1的二进制表示为: 00000000 00000000 00000000 00000001</span><br><span class="line">// 3的二进制表示为: 00000000 00000000 00000000 00000011</span><br><span class="line">// -----------------------------</span><br><span class="line">// 2的二进制表示为: 00000000 00000000 00000000 00000010</span><br><span class="line">console.log(1 ^ 3)     // 2</span><br></pre></td></tr></table></figure>
<h4 id="按位非（NOT）"><a href="#按位非（NOT）" class="headerlink" title="按位非（NOT）~"></a>按位非（NOT）~</h4><p>对位求反，1 变 0, 0 变 1，也就是求二进制的反码<br><em>简单记忆：一个数与自身的取反值相加等于-1</em></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">// 1的二进制表示为: 00000000 00000000 00000000 00000001</span><br><span class="line">// 3的二进制表示为: 00000000 00000000 00000000 00000011</span><br><span class="line">// -----------------------------</span><br><span class="line">// 1反码二进制表示: 11111111 11111111 11111111 11111110</span><br><span class="line">// 由于第一位（符号位）是1，所以这个数是一个负数。JavaScript 内部采用补码形式表示负数，即需要将这个数减去1，再取一次反，然后加上负号，才能得到这个负数对应的10进制值。</span><br><span class="line">// -----------------------------</span><br><span class="line">// 1的反码减1：     11111111 11111111 11111111 11111101</span><br><span class="line">// 反码取反：       00000000 00000000 00000000 00000010</span><br><span class="line">// 表示为10进制加负号：-2</span><br><span class="line">console.log(~ 1)     // -2</span><br></pre></td></tr></table></figure>
<h4 id="左移-lt-lt"><a href="#左移-lt-lt" class="headerlink" title="左移 &lt;&lt;"></a>左移 &lt;&lt;</h4><p>使指定值的二进制数所有位都左移指定次数，其移动规则：丢弃高位，低位补 0</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">// 1的二进制表示为: 00000000 00000000 00000000 00000001</span><br><span class="line">// -----------------------------</span><br><span class="line">// 2的二进制表示为: 00000000 00000000 00000000 00000010</span><br><span class="line">console.log(1 &lt;&lt; 1)     // 2</span><br></pre></td></tr></table></figure>
<h4 id="右移-gt-gt"><a href="#右移-gt-gt" class="headerlink" title="右移 &gt;&gt;"></a>右移 &gt;&gt;</h4><p>将指定操作数的二进制位向右移动指定的位数。向右被移出的位被丢弃，拷贝最左侧的位以填充左侧。由于新的最左侧的位总是和以前相同，符号位没有被改变。所以被称作“符号传播”。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">// 1的二进制表示为: 00000000 00000000 00000000 00000001</span><br><span class="line">// -----------------------------</span><br><span class="line">// 0的二进制表示为: 00000000 00000000 00000000 00000000</span><br><span class="line">console.log(1 &gt;&gt; 1)     // 0</span><br></pre></td></tr></table></figure>
<h4 id="无符号右移-gt-gt-gt"><a href="#无符号右移-gt-gt-gt" class="headerlink" title="无符号右移 &gt;&gt;&gt;"></a>无符号右移 &gt;&gt;&gt;</h4><p>该操作符会将第一个操作数向右移动指定的位数。向右被移出的位被丢弃，左侧用 0 填充。因为符号位变成了 0，所以结果总是非负的。（译注：即便右移 0 个比特，结果也是非负的。）<br>对于非负数，有符号右移和无符号右移总是返回相同的结果。例如， 9 &gt;&gt;&gt; 2 得到 2 和 9 &gt;&gt; 2 相同。</p>
<h3 id="js-中使用"><a href="#js-中使用" class="headerlink" title="js 中使用"></a>js 中使用</h3><ol>
<li>判断一个数的奇偶</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">// 偶数 &amp; 1 = 0</span><br><span class="line">// 奇数 &amp; 1 = 1</span><br><span class="line">console.log(2 &amp; 1)    // 0</span><br><span class="line">console.log(3 &amp; 1)    // 1</span><br></pre></td></tr></table></figure>
<ol start="2">
<li>使用~, &gt;&gt;, &lt;&lt;, &gt;&gt;&gt;, |来取整</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">console.log(~~ 6.83)    // 6</span><br><span class="line">console.log(6.83 &gt;&gt; 0)  // 6</span><br><span class="line">console.log(6.83 &lt;&lt; 0)  // 6</span><br><span class="line">console.log(6.83 | 0)   // 6</span><br><span class="line">// &gt;&gt;&gt;不可对负数取整</span><br><span class="line">console.log(6.83 &gt;&gt;&gt; 0)   // 6</span><br></pre></td></tr></table></figure>
<ol start="3">
<li>使用&amp;, &gt;&gt;, |来完成 rgb 值和 16 进制颜色值之间的转换</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">/**</span><br><span class="line"> * 16进制颜色值转RGB</span><br><span class="line"> * @param  &#123;String&#125; hex 16进制颜色字符串</span><br><span class="line"> * @return &#123;String&#125;     RGB颜色字符串</span><br><span class="line"> */</span><br><span class="line">  function hexToRGB(hex) &#123;</span><br><span class="line">    var hexx = hex.replace(&apos;#&apos;, &apos;0x&apos;)</span><br><span class="line">    var r = hexx &gt;&gt; 16</span><br><span class="line">    var g = hexx &gt;&gt; 8 &amp; 0xff</span><br><span class="line">    var b = hexx &amp; 0xff</span><br><span class="line">    return `rgb($&#123;r&#125;, $&#123;g&#125;, $&#123;b&#125;)`</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> * RGB颜色转16进制颜色</span><br><span class="line"> * @param  &#123;String&#125; rgb RGB进制颜色字符串</span><br><span class="line"> * @return &#123;String&#125;     16进制颜色字符串</span><br><span class="line"> */</span><br><span class="line">function RGBToHex(rgb) &#123;</span><br><span class="line">    var rgbArr = rgb.split(/[^\d]+/)</span><br><span class="line">    var color = rgbArr[1]&lt;&lt;16 | rgbArr[2]&lt;&lt;8 | rgbArr[3]</span><br><span class="line">    return &apos;#&apos;+ color.toString(16)</span><br><span class="line">&#125;</span><br><span class="line">// -------------------------------------------------</span><br><span class="line">hexToRGB(&apos;#ffffff&apos;)               // &apos;rgb(255,255,255)&apos;</span><br><span class="line">RGBToHex(&apos;rgb(255,255,255)&apos;)      // &apos;#ffffff&apos;</span><br></pre></td></tr></table></figure>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://sgw.wiki/2019/07/16/js标准库Array/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="iiicon">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="一个没有情趣和色彩的人">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/07/16/js标准库Array/" itemprop="url">js标准库Array</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-07-16T17:05:20+08:00">
                2019-07-16
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/js/" itemprop="url" rel="index">
                    <span itemprop="name">js</span>
                  </a>
                </span>

                
                
              
            </span>
          

          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="实例方法"><a href="#实例方法" class="headerlink" title="实例方法"></a>实例方法</h3><h4 id="构造函数"><a href="#构造函数" class="headerlink" title="构造函数"></a>构造函数</h4><p>构造函数一般传数组的长度，但是因为传不同的参数会导致不同的数组，所以一般不用构造函数生成<br>而且生成的数组连键名都是获取不到的</p>
<h4 id="静态方法"><a href="#静态方法" class="headerlink" title="静态方法"></a>静态方法</h4><h5 id="Array-isArray"><a href="#Array-isArray" class="headerlink" title="Array.isArray()"></a>Array.isArray()</h5><p>返回 true 和 false</p>
<h4 id="实例方法-1"><a href="#实例方法-1" class="headerlink" title="实例方法"></a>实例方法</h4><h5 id="valueOf-toString"><a href="#valueOf-toString" class="headerlink" title="valueOf toString"></a>valueOf toString</h5><p>valueOf 返回本身<br>toString 返回扁平化之后的字符串</p>
<h5 id="push"><a href="#push" class="headerlink" title="push"></a>push</h5><p>后面追加一个或者多个，返回新数组长度，改变原数组</p>
<h5 id="pop"><a href="#pop" class="headerlink" title="pop"></a>pop</h5><p>后面删除最后一个，返回该元素，改变原数组</p>
<h5 id="shift"><a href="#shift" class="headerlink" title="shift"></a>shift</h5><p>前面删除一个，返回该元素，改变原数组</p>
<h5 id="unshift"><a href="#unshift" class="headerlink" title="unshift"></a>unshift</h5><p>前面追加一个或者多个，返回数组长度，改变原数组</p>
<h5 id="join"><a href="#join" class="headerlink" title="join"></a>join</h5><p>参数是分隔符，如果没有用逗号，返回字符串</p>
<h5 id="cancat"><a href="#cancat" class="headerlink" title="cancat"></a>cancat</h5><p>多个数组合并，或者把其他参数合并到数组中，原数组不变，返回新数组</p>
<h5 id="reverse"><a href="#reverse" class="headerlink" title="reverse"></a>reverse</h5><p>前后颠倒，改变原数组，返回改变后的数组</p>
<h5 id="slice"><a href="#slice" class="headerlink" title="slice"></a>slice</h5><p>提取数组的一部分，返回新数组，原数组不变</p>
<h5 id="splice"><a href="#splice" class="headerlink" title="splice"></a>splice</h5><p>万能删除添加，返回删除的元素，改变原数组</p>
<h5 id="sort"><a href="#sort" class="headerlink" title="sort"></a>sort</h5><p>排序，原数组会被改变<br>不传参数会根据字符串的顺序排序，传参数之后如果返回值大于 0，升序，否则降序</p>
<h5 id="map"><a href="#map" class="headerlink" title="map"></a>map</h5><p>返回新数组，不改变原数组，有返回值</p>
<h5 id="forEach"><a href="#forEach" class="headerlink" title="forEach"></a>forEach</h5><p>没有返回值，不改变原数组，而且无法中断执行，只有 for 循环能 break</p>
<h5 id="filter"><a href="#filter" class="headerlink" title="filter"></a>filter</h5><p>参数也是一个函数，返回 true 的值组成一个新数组，不会改变原数组</p>
<pre><code>[1,2,3,undefined].filter(Boolean)
</code></pre><h5 id="some-every"><a href="#some-every" class="headerlink" title="some every"></a>some every</h5><p>参数都是一个函数，返回 true 和 false</p>
<h5 id="reduce-reduceRight"><a href="#reduce-reduceRight" class="headerlink" title="reduce reduceRight"></a>reduce reduceRight</h5><p>第一个参数是函数，第二个参数是初值</p>
<h5 id="indexOf-lastIndexOf"><a href="#indexOf-lastIndexOf" class="headerlink" title="indexOf lastIndexOf"></a>indexOf lastIndexOf</h5><p>返回元素第一次和最后一次出现的位置，没有的话返回 -1<br>注意不能识别 NaN，因为内部用的 ===，所以找不到</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://sgw.wiki/2019/07/16/js标准库RegExp/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="iiicon">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="一个没有情趣和色彩的人">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/07/16/js标准库RegExp/" itemprop="url">js标准库RegExp</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-07-16T17:04:24+08:00">
                2019-07-16
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/js/" itemprop="url" rel="index">
                    <span itemprop="name">js</span>
                  </a>
                </span>

                
                
              
            </span>
          

          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="实例属性（没什么用）"><a href="#实例属性（没什么用）" class="headerlink" title="实例属性（没什么用）"></a>实例属性（没什么用）</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">RegExp.prototype.ignoreCase</span><br><span class="line">RegExp.prototype.global</span><br><span class="line">RegExp.prototype.multiline</span><br><span class="line">RegExp.prototype.lastIndex</span><br><span class="line">RegExp.prototype.source</span><br></pre></td></tr></table></figure>
<h3 id="实例方法"><a href="#实例方法" class="headerlink" title="实例方法"></a>实例方法</h3><ul>
<li>RegExp.prototype.test()<br>如果带g， 每次都从 lastIndex 开始</li>
<li>RegExp.prototype.exec()<br>参数很多，第一项是匹配的，第二项是捕获的</li>
</ul>
<h3 id="字符串实例方法"><a href="#字符串实例方法" class="headerlink" title="字符串实例方法"></a>字符串实例方法</h3><ul>
<li>String.prototype.match()<br>返回一个数组，如果没有g，其结果基本和 exec 是一致的，还有就是对 lastIndex 无效<br>如果有 g， 则返回所有的匹配项</li>
<li>String.prototype.search()<br>找到就返回位置，找不到就返回 -1</li>
<li>String.prototype.replace()<br>接受两个参数，第一个是正则表达式，第二个是替换的内容，也可以是一个函数<br>最主要的应用就是修饰符 g 如果有则全部替换</li>
<li>String.prototype.split()<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">// 非正则分隔</span><br><span class="line">&apos;a,  b,c, d&apos;.split(&apos;,&apos;)</span><br><span class="line">// [ &apos;a&apos;, &apos;  b&apos;, &apos;c&apos;, &apos; d&apos; ]</span><br><span class="line"></span><br><span class="line">// 正则分隔，去除多余的空格</span><br><span class="line">&apos;a,  b,c, d&apos;.split(/, */)</span><br><span class="line">// [ &apos;a&apos;, &apos;b&apos;, &apos;c&apos;, &apos;d&apos; ]</span><br><span class="line"></span><br><span class="line">// 指定返回数组的最大成员</span><br><span class="line">&apos;a,  b,c, d&apos;.split(/, */, 2)</span><br><span class="line">[ &apos;a&apos;, &apos;b&apos; ]</span><br></pre></td></tr></table></figure></li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://sgw.wiki/2019/07/16/js标准库Date/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="iiicon">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="一个没有情趣和色彩的人">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/07/16/js标准库Date/" itemprop="url">js标准库Date</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-07-16T17:02:24+08:00">
                2019-07-16
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/js/" itemprop="url" rel="index">
                    <span itemprop="name">js</span>
                  </a>
                </span>

                
                
              
            </span>
          

          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="普通函数的用法"><a href="#普通函数的用法" class="headerlink" title="普通函数的用法"></a>普通函数的用法</h3><p>Date(2000, 1, 1) 或者 Date() 返回当前时间的字符串</p>
<h3 id="构造函数的用法"><a href="#构造函数的用法" class="headerlink" title="构造函数的用法"></a>构造函数的用法</h3><p>New Date() 返回 Date 对象的实例<br>可以接受诸如 毫秒数 日期字符串 以及年月日这种多个整数的 等参数</p>
<h3 id="日期的运算"><a href="#日期的运算" class="headerlink" title="日期的运算"></a>日期的运算</h3><ul>
<li>就返回字符串相连（转为string）</li>
</ul>
<ul>
<li>就返回毫秒数 （转为number）</li>
</ul>
<h3 id="静态方法"><a href="#静态方法" class="headerlink" title="静态方法"></a>静态方法</h3><p>Date.parse<br>Date.now</p>
<h3 id="实例方法"><a href="#实例方法" class="headerlink" title="实例方法"></a>实例方法</h3><p>大概有 to get set 三类</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://sgw.wiki/2019/07/16/js标准库String/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="iiicon">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="一个没有情趣和色彩的人">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/07/16/js标准库String/" itemprop="url">js标准库String</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-07-16T15:16:41+08:00">
                2019-07-16
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/js/" itemprop="url" rel="index">
                    <span itemprop="name">js</span>
                  </a>
                </span>

                
                
              
            </span>
          

          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="静态方法"><a href="#静态方法" class="headerlink" title="静态方法"></a>静态方法</h3><h4 id="fromCharCode"><a href="#fromCharCode" class="headerlink" title="fromCharCode"></a>fromCharCode</h4><p>如果参数为空，就返回’’,否则就返回 Unicode 对应的字符串</p>
<h3 id="实例方法"><a href="#实例方法" class="headerlink" title="实例方法"></a>实例方法</h3><h4 id="charAt"><a href="#charAt" class="headerlink" title="charAt"></a>charAt</h4><p>返回指定位置的字符，大于长度或者负数都返回空字符串</p>
<h4 id="charCodeAt"><a href="#charCodeAt" class="headerlink" title="charCodeAt"></a>charCodeAt</h4><p>返回指定位置的 unicode，大于或者负数都返回 NaN</p>
<h4 id="concat"><a href="#concat" class="headerlink" title="concat"></a>concat</h4><p>返回一个新字符串，不改变原字符串, 都是字符串连接不是的话要改成字符串</p>
<h4 id="slice"><a href="#slice" class="headerlink" title="slice"></a>slice</h4><p>返回一个字字符串，不改变原字符串，没有的话也是返回’’</p>
<h4 id="substring"><a href="#substring" class="headerlink" title="substring"></a>substring</h4><p>substring(9, -3) 会把-3 变成 0，然后变成(0, 9)，违反直觉，所以不建议使用，依然返回新字符串，不改变原字符串</p>
<h4 id="substr"><a href="#substr" class="headerlink" title="substr"></a>substr</h4><p>和 slice 的区别是第二个参数是要截取的长度，返回一个新的字符串，且不会改动原字符串。</p>
<h4 id="indexOf-lastIndexOf"><a href="#indexOf-lastIndexOf" class="headerlink" title="indexOf lastIndexOf"></a>indexOf lastIndexOf</h4><p>indexOf(‘o’, 6) 6 是开始的位置, 返回一个字符串在另一个字符串中出现的位置</p>
<h4 id="trim"><a href="#trim" class="headerlink" title="trim"></a>trim</h4><p>去除两端的 \s \t \v \n \r，返回新字符串，不改变原字符串</p>
<h4 id="toLowerCase-toUpperCase"><a href="#toLowerCase-toUpperCase" class="headerlink" title="toLowerCase toUpperCase"></a>toLowerCase toUpperCase</h4><p>改变大小写，不改变原来字符串的大小</p>
<h4 id="match"><a href="#match" class="headerlink" title="match"></a>match</h4><p>找到了返回数组，找不到返回 null</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&apos;cat, bat, sat, fat&apos;.match(&apos;at&apos;) // [&quot;at&quot;]</span><br><span class="line">&apos;cat, bat, sat, fat&apos;.match(&apos;xt&apos;) // null</span><br></pre></td></tr></table></figure>
<h4 id="search"><a href="#search" class="headerlink" title="search"></a>search</h4><p>和 match 基本一致，不同得是返回开始的位置</p>
<h4 id="replace"><a href="#replace" class="headerlink" title="replace"></a>replace</h4><p>基本是替换第一个，除非是正则表达式加上了 g</p>
<h4 id="split"><a href="#split" class="headerlink" title="split"></a>split</h4><p>返回一个按照指定分隔符分成的数组</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&apos;a|b|c&apos;.split(&apos;|&apos;) // [&apos;a&apos;, &apos;b&apos;, &apos;c&apos;]</span><br><span class="line">&apos;a|b|c&apos;.split(&apos;&apos;) // [&apos;a&apos;, &apos;|&apos;, &apos;b&apos;, &apos;|&apos;, &apos;c&apos;]</span><br><span class="line">&apos;a|b|c&apos;.split() // [&apos;a|b|c&apos;]</span><br><span class="line">&apos;|b|c&apos;.split(&apos;|&apos;) // [&apos;&apos;, &apos;b&apos;, &apos;c&apos;]</span><br><span class="line">&apos;a|b|c&apos;.split(&apos;|&apos;, 2) // [&apos;a&apos;, &apos;b&apos;]</span><br><span class="line">&apos;a|b|c&apos;.split(&apos;|&apos;, 4) // [&apos;a&apos;, &apos;b&apos;, &apos;c&apos;]</span><br></pre></td></tr></table></figure>
<h4 id="repeat"><a href="#repeat" class="headerlink" title="repeat"></a>repeat</h4><p>构造并返回一个新字符串，该字符串包含被连接在一起的指定数量的字符串的副本。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&quot;abc&quot;.repeat(0)      // &quot;&quot;</span><br><span class="line">&quot;abc&quot;.repeat(1)      // &quot;abc&quot;</span><br><span class="line">&quot;abc&quot;.repeat(2)      // &quot;abcabc&quot;</span><br><span class="line">&quot;abc&quot;.repeat(3.5)    // &quot;abcabcabc&quot; 参数count将会被自动转换成整数.</span><br></pre></td></tr></table></figure>
<h4 id="localeCompare"><a href="#localeCompare" class="headerlink" title="localeCompare"></a>localeCompare</h4><p>比较两个字符的长度，转成 unicode 判断</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://sgw.wiki/2019/07/16/a-story/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="iiicon">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="一个没有情趣和色彩的人">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/07/16/a-story/" itemprop="url">【转】因为故事，你才是与众不同的你 | 心理咨询实录</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-07-16T15:04:46+08:00">
                2019-07-16
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/综合/" itemprop="url" rel="index">
                    <span itemprop="name">综合</span>
                  </a>
                </span>

                
                
              
            </span>
          

          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>【侵删】</p>
<p>最近这些年，我遇到过最大的难题，</p>
<p>不是写代码时反反复复百思不得其解的 bug，</p>
<p>也不是应该留在机会更多的北京，还是回到熟人更多的成都</p>
<p>而是有个女孩 W 总爱问我：“你为什么偏偏就喜欢我呢？”</p>
<p>对于这个能杀人的问题， 我几乎束手无措。</p>
<p>最初的时候认为，喜欢一个人，不就是一种本能吗，为什么非要说出一个理由来呢？可是按照故事的走向，这不是正确的答案。</p>
<p>后来的结局是，她用了大量的论证方案来说服我，我不应该喜欢她，这样做不值得。</p>
<p>我仍然清晰的记得那天她的样子，<br>我们在一家咖啡馆里坐着聊天，灯光有点暗淡，<br>她的长发遮住了部分脸庞</p>
<p>她有点紧张，视线很少落在我身上，仿佛是沉溺在某种状态，手中将一个纸片折了又折。口中不停的讲述着某种道理：试图让我明白，我喜欢她，只不过是一种执念。</p>
<p>她只会偶尔看我一眼，然后开玩笑的说到：咦，怎么回事，今天感觉你长得像苏有朋 。似乎在有意的缓和违和的氛围。</p>
<p>而我最可爱也最搞笑的地方在于，我好像被她说服了。对啊，我为什么会喜欢她呢？其实也没那么喜欢，喜欢的只是一个幻觉而已。</p>
<p>用她的话来说，她那天是这辈子游说水平最巅峰的时候。</p>
<p>可这，也是我后来很长一段时间的痛苦所在，我也试图告诉自己其实是不喜欢她的，可是心里又暗暗的有一个声音在反对。</p>
<p>为了帮助我，心里咨询师 H 把我带到商场，说，“现在你去买两条毛巾。注意留心观察周围所有的人。”</p>
<p>我照着做了，当我回来的时候，他已经点了两杯咖啡坐在那里，对面坐着一个女孩，他们正在聊天。</p>
<p>H 介绍我们相互认识，女孩 M 也是 H 的客户，今天是临时被约出来。</p>
<p>H：“你们俩都是晚上会经常失眠，介意互相分享一下感受吗？”</p>
<p>我：“我一般是晚上 9 点到 10 点比较困，可是到了晚上 12 点就比较精神，睡不着觉，大多数时候要到 1 点半才能真正睡着。”</p>
<p>H：“睡不着的时候可能都会想些什么？”</p>
<p>我：“我前几天晚上都在想为什么我会觉得她对我很重要，正如她告诉我的，其实我们之间没有发生什么特别深刻的事情，可是内心深处的声音告诉我，她对我真的很重要，我不太想得通自己为什么会这样”</p>
<p>H：“所以你现在是希望她在你的心里变得不重要吗？”</p>
<p>我摇了摇头。</p>
<p>H：“那还是希望她能更重要一点咯？”，咨询师笑了笑，又问到。</p>
<p>我愣在那里。不知道应该如何作答。</p>
<p>H 顿了一会儿，开始和女孩 M 交流起来。</p>
<p>H：“你呢，晚上一般几点睡着？”</p>
<p>M：“不一定呀，可能 2 点，可能 3 点，也可能一整夜都睡不着，就算睡着了 5 点钟也会醒过来 ~”</p>
<p>H：“醒了之后有什么感觉？”</p>
<p>M：“一种被遗弃的感觉。”</p>
<p>H：“如果长期这样就很痛苦了。”</p>
<p>M 点了点头。</p>
<p>H：“有找过朋友吗，有朋友在身边这样的孤独感就会少一点”。</p>
<p>M：“刚开始有，可是大家都很忙，没有谁关注点永远都在我身上，所以后来我就不找她们了。”</p>
<p>H：“OK，我明白了，今天谢谢你能来帮忙，明天请你吃饭。”</p>
<p>女孩走了，只剩下我们两个人。</p>
<p>H：“你对这个女孩的感受如何？”</p>
<p>我：“这么可爱的女孩不应该这么孤独。”</p>
<p>H：“你觉得她可爱？”</p>
<p>我点了点头。</p>
<p>H：“比你心中的那个她更可爱吗？”</p>
<p>我：“那倒没有”</p>
<p>H：“W 可爱在什么地方，长相吗？”</p>
<p>我：“也不是，有一次我们在高速路旁的休息区，她急冲冲的往厕所的方向跑，边跑还边啊啊啊的叫，那个时候我觉得她特别可爱特别真实”。</p>
<p>H：“所以她的真实非常打动你？”</p>
<p>我点了点头，“她什么事都会跟我说”。</p>
<p>H：“能举一些例子吗？”</p>
<p>我：“比如说她的父母，她的弟弟，她的室友，她的高中班主任，她周围朋友的所有事，都会说”</p>
<p>H：“过去的感情经历呢，也说吗？”</p>
<p>我：“也会说。”</p>
<p>H：“你还记得从出门到现在，你都遇到了哪些人吗？”</p>
<p>我：“就你和刚才的女孩”。</p>
<p>H：“我刚才有专门让你留意周围的人，这些人算你遇到的人吗？”</p>
<p>我：“算吧”</p>
<p>H：“有比 W 更漂亮的女生吗？”</p>
<p>我：“当然有，好多个呢”</p>
<p>H：“那如果这些漂亮的女孩，都非常爱你，要做你女朋友，现在你会愿意吗？”</p>
<p>我犹豫了片刻，还是点了点头。</p>
<p>H：“谢谢你坦诚的配合。”</p>
<p>H 笑了笑，又问到：“可是现实却是，这些女孩不认识你，也不会有人爱你，更不会自己来要求要做你的女朋友，你会因此难过吗？”</p>
<p>我：“不会”。</p>
<p>H：“那我再问你一个小问题，如果刚才你看到的那些漂亮女孩和 M 都同时请你帮一个小忙，你只能答应一个人的请求，你会答应谁？”</p>
<p>我：“当然是 M”</p>
<p>H：“那在你心里 M 更重要咯？”</p>
<p>我勉强回答：“算是吧”。</p>
<p>H：“我们回到你失眠时候思考的问题，M 和你也一直没有说过话，为什么 M 会在你心里比陌生的漂亮女孩更重要呢？”</p>
<p>我似乎有所明悟，可抓不到 H 抛出来的点。</p>
<p>H：“再思考一个问题，其实你每天上班，吃饭，下班，沿途都会遇到非常多的人，他们有的比 W 更漂亮，有的比 W 更年轻，有的比 W 更优秀，可是为什么这些人在你这里就只是芸芸众生呢？”</p>
<p>我：“说不清楚，可能就是相互不认识吧。”</p>
<p>H：“你之前一直都在说服自己她不重要，你也不喜欢她？”</p>
<p>我点了点头。“她也是这样说的，我认为她说的有道理。”</p>
<p>H：“那我要告诉你答案，你就是爱她的，她对你而言，就是最重要的。”</p>
<p>我：“为什么呢？难道不是因为执念吗？”</p>
<p>H：“我们每天都会接触到非常多的人，可是大多数人都仅仅只是擦肩而过，你不知道她们有什么故事，她们也不知道你有什么故事。你和这些人没有建立任何连接。在你的大脑里，会把这些人自动的扁平化处理，对你而言，她们只是一个符号而已，所以他们一点不重要，忘记了也没关系。”</p>
<p>H：“M 不一样，虽然你们没有正视对方，也没有相互说过一句话，可以她跟你有建立一点连接，你知道了她失眠比你还严重，你也期望这么可爱的女孩不应该活得这么孤独。所以在你的脑海里，她的形象就更具体，自然也就更重要一点。”</p>
<p>我：“奥，我明白了，所以 W 对我而言非常重要，就是因为我知道她所有的事情，在我的脑海中她是最形象最具体的，自然也就是最重要咯？”</p>
<p>H：“就是这样。所以答案是你确实是爱她的，这跟你是否有执念无关。”</p>
<p>H：“你之所以会更加痛苦，是因为你强迫自己隐藏真实的自己。甚至试图把自己带向另外的一条道路。你知道你为什么会不停的去尝试告诉自己她不重要吗？”</p>
<p>我：“不知道”</p>
<p>H：“那我有一个问题，你喜欢一个不喜欢你的人，和你不喜欢一个不喜欢的人，哪种现实你更愿意接受？”</p>
<p>我：“当然不太愿意接受喜欢一个不喜欢自己的人。”</p>
<p>H：“所以其实你在逃避现实而已。”</p>
<p>我恍然大悟。</p>
<p>H 仍然穷追不舍：“你不敢面对一个不喜欢自己的她，也不愿意面对一个喜欢她的你自己”。</p>
<p>H：“所以你不用去思考她重要不重要。她重要。你也不用去思考自己喜欢不喜欢她，你喜欢。关键的地方在于你的选择，一是继续掩耳盗铃告诉自己其实无所谓，二是勇敢面对，重新认真生活。”</p>
<p>H：“你也不用刻意的去放下她。一个人之所以会在你的脑海中显得与众不同，是因为你知道她最多的故事，你感知到她最多的喜乐哀怒，她在你的脑海中就最立体。如果你放弃对生活的连接，即使随着时间不断的远去，即使慢慢离得远了，她也仍然最立体。所以你不用去想喜欢一个不喜欢自己的人怎么办，不用去强迫自己放下，什么都不用做，只需要正常的去生活，去工作，保持自己与外界的连接，自然就会有新的形象更加具体的出现。”</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://sgw.wiki/2019/07/14/React组件通信-父子/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="iiicon">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="一个没有情趣和色彩的人">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/07/14/React组件通信-父子/" itemprop="url">React组件通信-父子</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-07-14T12:08:12+08:00">
                2019-07-14
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/React/" itemprop="url" rel="index">
                    <span itemprop="name">React</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="代码仓库"><a href="#代码仓库" class="headerlink" title="代码仓库"></a>代码仓库</h3><p><a href="https://github.com/iiicon/react-demo-advance/blob/master/src/pages/RA1/index.jsx" target="_blank" rel="noopener">龟兔赛跑</a></p>
<h3 id="组件-JSX"><a href="#组件-JSX" class="headerlink" title="组件 JSX"></a>组件 JSX</h3><p>我们已经知道组件可以是函数，也可以用 class 表示<br>下面列出一些要点</p>
<ul>
<li>组件名必须大写开头 Pascal</li>
<li>construnctor 函数必须调用 super</li>
<li>style 可以直接绑定一个对象，用来表示样式</li>
<li>函数组件做不到根据数据改变重新渲染，所以多状态这种组件要用 class，简单的可以直接写函数表示</li>
</ul>
<h3 id="父子组件通信"><a href="#父子组件通信" class="headerlink" title="父子组件通信"></a>父子组件通信</h3><ul>
<li>内部组件可以直接用 this.props 获取外部组件的属性，同样函数组件也提供 props 参数</li>
<li>如果组件依赖数据变化，必须在 state 上改变数据</li>
<li>父组件给子组件传递一个函数，子组件在合适的时候调用这个函数（回调）</li>
</ul>
<p>父：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;Track success=&#123;this.onSuccess.bind(this)&#125;&gt;</span><br></pre></td></tr></table></figure>
<p><strong>标签上调用<code>this.onSuccess</code>的时候，React会强制把回调的this指向undefined，所以需要自己bind，或者用=&gt;函数</strong><br>子：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">this.props.success()</span><br></pre></td></tr></table></figure>
<p><strong>不要写空格</strong></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://sgw.wiki/2019/07/09/认识React/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="iiicon">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="一个没有情趣和色彩的人">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/07/09/认识React/" itemprop="url">认识React</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-07-09T23:42:21+08:00">
                2019-07-09
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/React/" itemprop="url" rel="index">
                    <span itemprop="name">React</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="认识-React"><a href="#认识-React" class="headerlink" title="认识 React"></a>认识 React</h3><p>先做一个小小的 dom 展示</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">import React from &apos;react&apos;;</span><br><span class="line">import ReactDOM from &apos;react-dom&apos;;</span><br><span class="line"></span><br><span class="line">class Box extends React.Component &#123;</span><br><span class="line">  constructor(props) &#123;</span><br><span class="line">    super(props)</span><br><span class="line">    this.state = &#123;</span><br><span class="line">      number: 1</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  add() &#123;</span><br><span class="line">    this.setState(&#123;</span><br><span class="line">      number: this.state.number + 1</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">  render() &#123;</span><br><span class="line">    return (</span><br><span class="line">      &lt;div className=&quot;red&quot;&gt;</span><br><span class="line">        &lt;span&gt;&#123;this.state.number&#125;&lt;/span&gt;</span><br><span class="line">        &lt;button onClick=&#123;this.add.bind(this)&#125;&gt;+&lt;/button&gt;</span><br><span class="line">        &lt;strong&gt;&#123;this.props.name&#125;&lt;/strong&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    )</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function App(props) &#123;</span><br><span class="line">  return (</span><br><span class="line">    &lt;div className=&quot;App&quot;&gt;</span><br><span class="line">      name is &#123;props.name&#125;</span><br><span class="line">      &lt;Box name=&quot;box is god&quot;/&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  )</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">ReactDOM.render(&lt;App name=&quot;app&quot;/&gt;, document.getElementById(&apos;root&apos;));</span><br></pre></td></tr></table></figure>
<ol>
<li>可以用标签的写法来写 dom，都对应虚拟 dom，js 的语法要在 {} 中表示</li>
<li>组件可以用函数实现，函数就是组件，组件对应的属性会被抽象为一个对象，作为函数的参数传递</li>
<li>组件可以用 class 实现，且必须继承自 React.Component</li>
<li>一般外面的属性用 props 表示，内部的属性用 state 表示</li>
<li>组件的属性要写在 constructor 构造函数里，作为实例的属性</li>
<li>必须要有一个 render 函数，用来书写 dom 结构</li>
<li>默认在组件中使用事件书写回调时会把 this 指为 undefined，this.add.call(undefined, 1), 所以要写箭头函数，或者手动 bind this</li>
<li>修改数据要用 setState, 默认只能写一次，书写多次要给 setState 传一个参数，用来接收和返回 state</li>
</ol>
<p>今天暂时就这样…</p>
<p><a href="https://github.com/iiicon/react-demo-2" target="_blank" rel="noopener">demo 仓库</a></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://sgw.wiki/2019/06/30/TS高级类型（一）/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="iiicon">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="一个没有情趣和色彩的人">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/06/30/TS高级类型（一）/" itemprop="url">TS高级类型（一）</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-06-30T19:10:49+08:00">
                2019-06-30
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/TS/" itemprop="url" rel="index">
                    <span itemprop="name">TS</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="交叉类型（Intersection-Types）"><a href="#交叉类型（Intersection-Types）" class="headerlink" title="交叉类型（Intersection Types）"></a>交叉类型（Intersection Types）</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">// T 和 U 的并集</span><br><span class="line">function extend&lt;T, U&gt;(first: T, second: U): T &amp; U &#123;</span><br><span class="line">    let result = &lt;T &amp; U&gt;&#123;&#125;;</span><br><span class="line">    for (let id in first) &#123;</span><br><span class="line">        (&lt;any&gt;result)[id] = (&lt;any&gt;first)[id];</span><br><span class="line">    &#125;</span><br><span class="line">    for (let id in second) &#123;</span><br><span class="line">        if (!result.hasOwnProperty(id)) &#123;</span><br><span class="line">            (&lt;any&gt;result)[id] = (&lt;any&gt;second)[id];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    return result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="联合类型（Union-Types）"><a href="#联合类型（Union-Types）" class="headerlink" title="联合类型（Union Types）"></a>联合类型（Union Types）</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">// 或运算</span><br><span class="line">function padLeft(value: string, padding: string | number) &#123;</span><br><span class="line">    // ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="类型保护与区分类型（Type-Guards-and-differentiating-Types）"><a href="#类型保护与区分类型（Type-Guards-and-differentiating-Types）" class="headerlink" title="类型保护与区分类型（Type Guards and differentiating Types）"></a>类型保护与区分类型（Type Guards and differentiating Types）</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">let pet = getSmallPet();</span><br><span class="line"></span><br><span class="line">// 每一个成员访问都会报错</span><br><span class="line">if (pet.swim) &#123;</span><br><span class="line">    pet.swim();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 为了使这段代码工作，需要使用类型断言</span><br><span class="line">if ((&lt;Fish&gt;pet).swim) &#123;</span><br><span class="line">    (&lt;Fish&gt;pet).swim();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 为了不每次都写类型断言，我们可以利用 ts 的类型保护机制</span><br><span class="line">function isFish(pet: Fish | Bird): pet is Fish &#123;</span><br><span class="line">    return (&lt;Fish&gt;pet).swim !== undefined;</span><br><span class="line">&#125;</span><br><span class="line">if (isFish(pet)) &#123;</span><br><span class="line">    pet.swim();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 对于 js 那六大类型，依然可以使用 typeof</span><br><span class="line">typeof x === &quot;number&quot;</span><br><span class="line"></span><br><span class="line">// instance of 也可以识别（右边要求是一个构造函数）</span><br><span class="line">padder instanceof StringPadder</span><br></pre></td></tr></table></figure>
<h3 id="可以为-null-的类型"><a href="#可以为-null-的类型" class="headerlink" title="可以为 null 的类型"></a>可以为 null 的类型</h3><p><strong>如果编译器不能够去除 null 或 undefined，你可以使用类型断言手动去除。 语法是添加 !</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">let s = &quot;foo&quot;;</span><br><span class="line">s = null; // 错误, &apos;null&apos;不能赋值给&apos;string&apos;</span><br><span class="line">let sn: string | null = &quot;bar&quot;;</span><br><span class="line">sn = null; // 可以</span><br><span class="line"></span><br><span class="line">sn = undefined; // error, &apos;undefined&apos;不能赋值给&apos;string | null&apos;</span><br></pre></td></tr></table></figure>
<h3 id="类型别名"><a href="#类型别名" class="headerlink" title="类型别名"></a>类型别名</h3><p>就是一个引用</p>
<p>与交叉类型一起使用，可以创建出稀奇古怪的类型</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">type LinkedList&lt;T&gt; = T &amp; &#123; next: LinkedList&lt;T&gt; &#125;;</span><br></pre></td></tr></table></figure>
<h4 id="接口-vs-类型别名"><a href="#接口-vs-类型别名" class="headerlink" title="接口 vs 类型别名"></a>接口 vs 类型别名</h4><ol>
<li>接口创建了一个新的名字，可以在任何地方使用，类型别名并不创建新名字，比如发生错误的时候不显示别名</li>
<li>类型别名不能 extends 和</li>
<li>通常使用接口，接口搞不定的时候再使用类型别名</li>
</ol>
<h3 id="字符串字面量类型"><a href="#字符串字面量类型" class="headerlink" title="字符串字面量类型"></a>字符串字面量类型</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">type Easing = &quot;ease-in&quot; | &quot;ease-out&quot; | &quot;ease-in-out&quot;;</span><br></pre></td></tr></table></figure>
<h3 id="数字字面量类型"><a href="#数字字面量类型" class="headerlink" title="数字字面量类型"></a>数字字面量类型</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">function rollDie(): 1 | 2 | 3 | 4 | 5 | 6 &#123;</span><br><span class="line">    // ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="可辨识联合（Disminated-Union）"><a href="#可辨识联合（Disminated-Union）" class="headerlink" title="可辨识联合（Disminated Union）"></a>可辨识联合（Disminated Union）</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">interface Square &#123;</span><br><span class="line">  kind: &quot;square&quot;;</span><br><span class="line">  size: number;</span><br><span class="line">&#125;</span><br><span class="line">interface Rectangle &#123;</span><br><span class="line">  kind: &quot;rectangle&quot;;</span><br><span class="line">  width: number;</span><br><span class="line">  height: number;</span><br><span class="line">&#125;</span><br><span class="line">interface Circle &#123;</span><br><span class="line">  kind: &quot;circle&quot;;</span><br><span class="line">  radius: number;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 让各个接口建立联系</span><br><span class="line">type Shape = Square | Rectangle | Circle;</span><br><span class="line"></span><br><span class="line">// 使用</span><br><span class="line">function area(s: Shape) &#123;</span><br><span class="line">  switch (s.kind) &#123;</span><br><span class="line">    case &quot;square&quot;: return s.size * s.size;</span><br><span class="line">    case &quot;rectangle&quot;: return s.height * s.width;</span><br><span class="line">    case &quot;circle&quot;: return Math.PI * s.radius ** 2;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="完整性检查"><a href="#完整性检查" class="headerlink" title="完整性检查"></a>完整性检查</h4><p>万一有一个 case 不存在，发生错误怎么办<br>第一种就是 <code>| undefined</code><br>第二种就是 返回一个 never</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">default: return assertNever(s);</span><br><span class="line">function assertNever(x: never): never &#123;</span><br><span class="line">    throw new Error(&quot;Unexpected object: &quot; + x);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="那么-never-是什么呢"><a href="#那么-never-是什么呢" class="headerlink" title="那么 never 是什么呢"></a>那么 never 是什么呢</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">let x: never = undefined // error</span><br><span class="line">never 只表示类型</span><br></pre></td></tr></table></figure>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/5/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/5/">5</a><span class="page-number current">6</span><a class="page-number" href="/page/7/">7</a><span class="space">&hellip;</span><a class="page-number" href="/page/12/">12</a><a class="extend next" rel="next" href="/page/7/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image" src="/images/avatar.jpg" alt="iiicon">
            
              <p class="site-author-name" itemprop="name">iiicon</p>
              <p class="site-description motion-element" itemprop="description">coding note and life perception 代码笔记和生活感悟</p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">117</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">16</span>
                  <span class="site-state-item-name">分类</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">49</span>
                  <span class="site-state-item-name">标签</span>
                </a>
              </div>
            

          </nav>

          

          

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">iiicon</span>

  
</div>


  <div class="powered-by">由 <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> 强力驱动</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Muse</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  

  
  

  

  

  

</body>
</html>
