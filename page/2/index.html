<!DOCTYPE html>



  


<html class="theme-next muse use-motion" lang="zh-Hans,en,default">
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css">







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT">










<meta name="description" content="coding note and life perception 代码笔记和生活感悟">
<meta property="og:type" content="website">
<meta property="og:title" content="一个没有情趣和色彩的人">
<meta property="og:url" content="https://sgw.wiki/page/2/index.html">
<meta property="og:site_name" content="一个没有情趣和色彩的人">
<meta property="og:description" content="coding note and life perception 代码笔记和生活感悟">
<meta property="og:locale" content="zh-Hans">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="一个没有情趣和色彩的人">
<meta name="twitter:description" content="coding note and life perception 代码笔记和生活感悟">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="https://sgw.wiki/page/2/">





  <title>一个没有情趣和色彩的人</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">一个没有情趣和色彩的人</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">正经点 少说话</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br>
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            归档
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://sgw.wiki/2020/04/06/require和import/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="iiicon">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="一个没有情趣和色彩的人">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/04/06/require和import/" itemprop="url">require和import</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2020-04-06T10:44:42+08:00">
                2020-04-06
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/js/" itemprop="url" rel="index">
                    <span itemprop="name">js</span>
                  </a>
                </span>

                
                
              
            </span>
          

          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="require"><a href="#require" class="headerlink" title="require"></a>require</h2><p>特点：</p>
<ul>
<li>运行时加载</li>
<li>拷贝到本页面</li>
<li>全部引入</li>
</ul>
<h3 id="CommonJS"><a href="#CommonJS" class="headerlink" title="CommonJS"></a>CommonJS</h3><p>Node.js 就是 CommonJS 思想，在 CommonJS 中有一个全局性方法 require() 用于加载模块</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> math = <span class="built_in">require</span>(<span class="string">'math'</span>)</span><br><span class="line">math.add(<span class="number">2</span>, <span class="number">3</span>)</span><br></pre></td></tr></table></figure>
<p>模块写法</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">模块写法分exports和<span class="built_in">module</span>.exports。</span><br><span class="line"></span><br><span class="line">exports.add = <span class="function">(<span class="params">x,y</span>) =&gt;</span> x+y;</span><br><span class="line"><span class="built_in">module</span>.exports = <span class="class"><span class="keyword">class</span> <span class="title">math</span> </span>&#123;</span><br><span class="line">  <span class="keyword">constructor</span>(x,y) &#123;</span><br><span class="line">    <span class="keyword">this</span>.x = x;</span><br><span class="line">    <span class="keyword">this</span>.y = y;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  add() &#123;</span><br><span class="line">    <span class="keyword">return</span>  x+y;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;<span class="string">``</span><span class="string">`</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">### AMD</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">require.js cujo.js 就是 AMD 思想</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">`</span><span class="string">``</span>javascript</span><br><span class="line"><span class="built_in">require</span>([<span class="string">'math'</span>], <span class="function"><span class="keyword">function</span>(<span class="params">math</span>) </span>&#123;</span><br><span class="line">  math.add(<span class="number">2</span>, <span class="number">3</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p>模块写法</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">define(id?, dependencies?, factory)</span><br><span class="line"></span><br><span class="line">define(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> add = <span class="function"><span class="keyword">function</span>(<span class="params">x,y</span>) </span>&#123; <span class="keyword">return</span> x + y &#125;</span><br><span class="line">  <span class="keyword">return</span> &#123; add &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<h3 id="CMD"><a href="#CMD" class="headerlink" title="CMD"></a>CMD</h3><p>sea.js 就是 CMD 思想，类似于 require.js 但 seajs 是依赖就近，延迟执行，requirejs 是依赖前置，提前执行</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">seajs.config(&#123;</span><br><span class="line">  alias: &#123;</span><br><span class="line">    jquery: <span class="string">'http://modules.seajs.org/jquery/3/jquery.js'</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">seajs.use([<span class="string">'./hello'</span>, <span class="string">'jquery'</span>], <span class="function"><span class="keyword">function</span>(<span class="params">hello, $</span>) </span>&#123;</span><br><span class="line">  $(<span class="string">'#beautiful-sea'</span>).click(hello.sayHello)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p>模块写法</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">define(<span class="function"><span class="keyword">function</span>(<span class="params">require, exports, module</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> $ = <span class="built_in">require</span>(<span class="string">'jquery'</span>)</span><br><span class="line"></span><br><span class="line">  exports.sayHello = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    $(<span class="string">'#hello'</span>).toggle(<span class="string">'slow'</span>)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">var</span> b = <span class="built_in">require</span>(<span class="string">'b'</span>)</span><br><span class="line">  b.doSomething() <span class="comment">// 依赖就近，延迟执行</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<h2 id="import"><a href="#import" class="headerlink" title="import"></a>import</h2><p>特点：</p>
<ul>
<li>编译时加载</li>
<li>只引用定义</li>
<li>按需加载</li>
</ul>
<p><strong>对比发现 import 完胜 require，推荐用 import 取代 require</strong></p>
<p>有两种用法 import 某块 和 import()</p>
<p>import() 返回一个 promise 对象</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 报错</span></span><br><span class="line"><span class="keyword">if</span> (x === <span class="number">2</span>) &#123;</span><br><span class="line">  <span class="keyword">import</span> MyModual <span class="keyword">from</span> <span class="string">'./myModual'</span></span><br><span class="line">&#125;</span><br><span class="line">所以引入了动态<span class="keyword">import</span></span><br><span class="line"><span class="keyword">if</span> (x === <span class="number">2</span>) &#123;</span><br><span class="line">  <span class="keyword">import</span>(<span class="string">'myModual'</span>).then(<span class="function"><span class="params">MyModual</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">new</span> MyModual()</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://sgw.wiki/2020/04/03/relayout和repaint/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="iiicon">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="一个没有情趣和色彩的人">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/04/03/relayout和repaint/" itemprop="url">relayout和repaint</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2020-04-03T17:34:43+08:00">
                2020-04-03
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/css/" itemprop="url" rel="index">
                    <span itemprop="name">css</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="浏览器和渲染树"><a href="#浏览器和渲染树" class="headerlink" title="浏览器和渲染树"></a>浏览器和渲染树</h2><p>在页面的生命周期中，一些效果的交互都有可能发生重排（Layout）和重绘（Painting），这些都会使我们付出高额的性能代价。 浏览器从下载文件至本地到显示页面是个复杂的过程，这里包含了重绘和重排。通常来说，渲染引擎会解析 HTML 文档来构建 DOM 树，与此同时，渲染引擎也会用 CSS 解析器解析 CSS 文档构建 CSSOM 树。接下来，DOM 树和 CSSOM 树关联起来构成渲染树（RenderTree），这一过程称为 Attachment。然后浏览器按照渲染树进行布局（Layout），最后一步通过绘制显示出整个页面。</p>
<p><img src="https://i.loli.net/2020/04/03/AjnOINYaRJsrzdi.png" alt="20200403173804.png"></p>
<p>其中重排和重绘是最耗时的部分，一旦触发重排，我们对 DOM 的修改引发了 DOM 几何元素的变化，渲染树需要重新计算， 而重绘只会改变 vidibility、outline、背景色等属性导致样式的变化，使浏览器需要根据新的属性进行绘制。更比而言，重排会产生比重绘更大的开销。所以，我们在实际生产中要严格注意减少重排的触发。</p>
<h2 id="触发重排的操作主要是几何因素"><a href="#触发重排的操作主要是几何因素" class="headerlink" title="触发重排的操作主要是几何因素"></a>触发重排的操作主要是几何因素</h2><p>1.页面第一次渲染 在页面发生首次渲染的时候，所有组件都要进行首次布局，这是开销最大的一次重排。 2.浏览器窗口尺寸改变 3.元素位置和尺寸发生改变的时候 4.新增和删除可见元素 5.内容发生改变（文字数量或图片大小等等） 6.元素字体大小变化。 7.激活 CSS 伪类（例如：:hover）。 8.设置 style 属性 9.查询某些属性或调用某些方法。比如说：<code>offsetTop、offsetLeft、 offsetWidth、offsetHeight、scrollTop、scrollLeft、scrollWidth、scrollHeight、clientTop、clientLeft clientWidth、clientHeight</code></p>
<p>除此之外，当我们调用 getComputedStyle 方法，或者 IE 里的 currentStyle 时，也会触发重排，原理是一样的，都为求一个“即时性”和“准确性”。</p>
<h2 id="触发重绘的操作主要有"><a href="#触发重绘的操作主要有" class="headerlink" title="触发重绘的操作主要有"></a>触发重绘的操作主要有</h2><p>vidibility、outline、背景色等属性的改变<br>我们应当注意的是：重绘不一定导致重排，但重排一定会导致重绘。</p>
<h2 id="那么我们可以采取哪些措施来避免或减少重排带来的巨大开销呢？"><a href="#那么我们可以采取哪些措施来避免或减少重排带来的巨大开销呢？" class="headerlink" title="那么我们可以采取哪些措施来避免或减少重排带来的巨大开销呢？"></a>那么我们可以采取哪些措施来避免或减少重排带来的巨大开销呢？</h2><h3 id="分离读写操作"><a href="#分离读写操作" class="headerlink" title="分离读写操作"></a>分离读写操作</h3><pre><code>div.style.top = &quot;10px&quot;;
div.style.bottom = &quot;10px&quot;;
div.style.right = &quot;10px&quot;;
div.style.left = &quot;10px&quot;;
console.log(div.offsetWidth);
console.log(div.offseHeight);
console.log(div.offsetRight);
console.log(div.offsetLeft);
</code></pre><h3 id="样式集中改变"><a href="#样式集中改变" class="headerlink" title="样式集中改变"></a>样式集中改变</h3><p>通过 cssText 和 class 进行样式的集中改变（现代浏览器会有 flush 队列优化，会好很多）</p>
<h3 id="缓存布局信息"><a href="#缓存布局信息" class="headerlink" title="缓存布局信息"></a>缓存布局信息</h3><pre><code>// bad 强制刷新 触发两次重排
div.style.left = div.offsetLeft + 1 + &apos;px&apos;;
div.style.top = div.offsetTop + 1 + &apos;px&apos;;

// good 缓存布局信息 相当于读写分离
var curLeft = div.offsetLeft;
var curTop = div.offsetTop;
div.style.left = curLeft + 1 + &apos;px&apos;;
div.style.top = curTop + 1 + &apos;px&apos;;
</code></pre><h3 id="将-dom-离线"><a href="#将-dom-离线" class="headerlink" title="将 dom 离线"></a>将 dom 离线</h3><p>设置 display:none,元素不会存在于渲染树中，相当于将其从页面拿掉，我们之后的操作将不会触发 repaint 和 relayout</p>
<ul>
<li><p>通过使用 DocumentFragment 创建一个 dom 碎片,在它上面批量操作 dom，操作完成之后，再添加到文档中，这样只会触发一次重排。</p>
</li>
<li><p>复制节点，在副本上工作，然后替换它！</p>
</li>
</ul>
<h3 id="将-position-属性设置为-absolute-或-fixed"><a href="#将-position-属性设置为-absolute-或-fixed" class="headerlink" title="将 position 属性设置为 absolute 或 fixed"></a>将 position 属性设置为 absolute 或 fixed</h3><p>position 属性为 absolute 或 fixed 的元素，重排开销比较小，不用考虑它对其他元素的影响</p>
<h3 id="优化动画"><a href="#优化动画" class="headerlink" title="优化动画"></a>优化动画</h3><ul>
<li>可以把动画应用到定位的元素上</li>
<li>启用 GPU 加速</li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://sgw.wiki/2020/03/06/js正则/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="iiicon">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="一个没有情趣和色彩的人">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/03/06/js正则/" itemprop="url">js正则</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2020-03-06T16:56:13+08:00">
                2020-03-06
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/js/" itemprop="url" rel="index">
                    <span itemprop="name">js</span>
                  </a>
                </span>

                
                
              
            </span>
          

          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>最近系统性地过了一遍 js 正则，参考<a href="https://juejin.im/post/59cc61176fb9a00a437b290b" target="_blank" rel="noopener">《JavaScript 正则迷你书》</a>,<br>很多人说，正则是反应程序员水平的侧面标准，这本书知识点非常到位，把核心的东西都梳理得很好</p>
<ul>
<li><a href="https://github.com/iiicon/RegExp/blob/master/reg1.js" target="_blank" rel="noopener">正则表达式字符匹配</a></li>
<li><a href="https://github.com/iiicon/RegExp/blob/master/reg2.js" target="_blank" rel="noopener">正则表达式匹配位置</a></li>
<li><a href="https://github.com/iiicon/RegExp/blob/master/reg3.js" target="_blank" rel="noopener">正则表达式括号的应用</a></li>
<li><a href="https://github.com/iiicon/RegExp/blob/master/reg4.js" target="_blank" rel="noopener">正则表达式回溯法原理</a></li>
<li><a href="https://github.com/iiicon/RegExp/blob/master/reg5.js" target="_blank" rel="noopener">正则表达式的拆分</a></li>
<li><a href="https://github.com/iiicon/RegExp/blob/master/reg6.js" target="_blank" rel="noopener">正则表达式的构建</a></li>
<li><a href="https://github.com/iiicon/RegExp/blob/master/reg7.js" target="_blank" rel="noopener">正则表达式的编程</a></li>
</ul>
<h2 id="实例"><a href="#实例" class="headerlink" title="实例"></a>实例</h2><h3 id="匹配-16-进制颜色值"><a href="#匹配-16-进制颜色值" class="headerlink" title="匹配 16 进制颜色值"></a>匹配 16 进制颜色值</h3><pre><code>const reg = /#([0-9a-fA-F]{6})|([0-9a-fA-F]{3})/g;
</code></pre><h3 id="匹配时间-hh-mm"><a href="#匹配时间-hh-mm" class="headerlink" title="匹配时间 hh:mm"></a>匹配时间 hh:mm</h3><pre><code>const reg = /^[01][0-9]|[2][0-3]:[0-5][0-9]$/g;
</code></pre><h3 id="匹配日期-yyyy-mm-dd"><a href="#匹配日期-yyyy-mm-dd" class="headerlink" title="匹配日期 yyyy-mm-dd"></a>匹配日期 yyyy-mm-dd</h3><pre><code>const reg = /^[0-9]{4}-(0[1-9]|1[12])-(0[1-9]|[12][0-9]|[3][01])$/g;
</code></pre><h3 id="windows-操作文件路径"><a href="#windows-操作文件路径" class="headerlink" title="windows 操作文件路径"></a>windows 操作文件路径</h3><pre><code>const reg = /^[a-zA-Z]:\\([^\\:*&lt;&gt;|&quot;?\r\n/]+\\)*([^\\:*&lt;&gt;|&quot;?\r\n/]+)?$/;
</code></pre><h3 id="匹配-id"><a href="#匹配-id" class="headerlink" title="匹配 id"></a>匹配 id</h3><pre><code>const reg = /id=&quot;[^&quot;]*&quot;/;
</code></pre><h3 id="匹配位置"><a href="#匹配位置" class="headerlink" title="匹配位置"></a>匹配位置</h3><pre><code>const reg = /^|$/g;
</code></pre><h3 id="不匹配任何东西"><a href="#不匹配任何东西" class="headerlink" title="不匹配任何东西"></a>不匹配任何东西</h3><pre><code>const reg = /.^/
</code></pre><h3 id="数字千位分隔符表示法"><a href="#数字千位分隔符表示法" class="headerlink" title="数字千位分隔符表示法"></a>数字千位分隔符表示法</h3><pre><code>const reg = /(?!^)(?=(\d{3})+$)/g
</code></pre><h3 id="验证密码"><a href="#验证密码" class="headerlink" title="验证密码"></a>验证密码</h3><pre><code>const reg = /(?=.*[0-9])(?=.*[a-zA-Z])^[0-9a-zA-Z]{6,12}$/;
const reg1 = /(?!^[0-9]{6,12}$)(?!^[a-z]{6,12}$)(?!^[A-Z]{6,12}$)^[0-9A-Za-z]{6,12}$/;
</code></pre><h3 id="字符串trim方法模拟"><a href="#字符串trim方法模拟" class="headerlink" title="字符串trim方法模拟"></a>字符串trim方法模拟</h3><pre><code>const reg = /^\s+|\s+$/g
</code></pre><h3 id="将每个单词的首字母转换为大写"><a href="#将每个单词的首字母转换为大写" class="headerlink" title="将每个单词的首字母转换为大写"></a>将每个单词的首字母转换为大写</h3><pre><code>const reg = /(?:^|\s)\w/g
const string = &quot;i am gerritv&quot;.replace(reg, c =&gt; c.toUpperCase());
</code></pre><h3 id="驼峰化"><a href="#驼峰化" class="headerlink" title="驼峰化"></a>驼峰化</h3><pre><code>const reg = /[-_\s]+(.)?/g;
const string = &quot;_si-uiw&quot;.replace(reg, (match, c) =&gt; {
    c ? c.toUpperCase() : &quot;&quot;;
});
</code></pre><h3 id="中线化"><a href="#中线化" class="headerlink" title="中线化"></a>中线化</h3><pre><code>const reg = /([A-Z])/g;
const reg1 = /[-_\s]+/g;
const string = &quot;MozTransform&quot;
    .replace(reg, &quot;-$1&quot;)
    .replace(reg1, &quot;-&quot;)
    .toLowerCase();
</code></pre><h3 id="身份证正则"><a href="#身份证正则" class="headerlink" title="身份证正则"></a>身份证正则</h3><pre><code>const reg = /^\d{15}|\d{17}[\dxX]$/;
</code></pre><h3 id="IPV4地址"><a href="#IPV4地址" class="headerlink" title="IPV4地址"></a>IPV4地址</h3><pre><code>const reg = /^((0{0,2}\d|0?\d{2}|1\d{2}|2[0-4]\d|25[0-5])\.){3}(0{0,2}\d|0?\d{2}|1\d{2}|2[0-4]\d
</code></pre>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://sgw.wiki/2020/03/03/菜谱/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="iiicon">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="一个没有情趣和色彩的人">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/03/03/菜谱/" itemprop="url">菜谱</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2020-03-03T21:02:32+08:00">
                2020-03-03
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/综合/" itemprop="url" rel="index">
                    <span itemprop="name">综合</span>
                  </a>
                </span>

                
                
              
            </span>
          

          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="炝炒土豆丝"><a href="#炝炒土豆丝" class="headerlink" title="炝炒土豆丝"></a>炝炒土豆丝</h2><ol>
<li>土豆切丝，不能太细，清水洗净（去除土豆的淀粉，口感更脆）</li>
<li>开水加白醋，焯水 20s 左右，捞出</li>
<li>热油 7 分左右，加干辣椒和蒜瓣，以及青花椒，接着加入土豆丝，中火炒 40s 至断生</li>
<li>调味，加入盐，少许白糖提鲜，生抽，加入切好的小葱，翻炒几下出锅</li>
</ol>
<h2 id="青椒炒鸡蛋"><a href="#青椒炒鸡蛋" class="headerlink" title="青椒炒鸡蛋"></a>青椒炒鸡蛋</h2><ol>
<li>鸡蛋加白醋 少许胡椒粉 盐，打至起泡</li>
<li>油里煎 40s 左右倒出</li>
<li>少油炒青椒，加入蒜姜葱，大火炒至断生 加入鸡蛋</li>
<li>加入少许盐 少许糖，酱油 翻炒 出锅</li>
</ol>
<h2 id="韭黄炒鸡蛋"><a href="#韭黄炒鸡蛋" class="headerlink" title="韭黄炒鸡蛋"></a>韭黄炒鸡蛋</h2><ol>
<li>先炒鸡蛋倒出备用</li>
<li>少油加入蒜葱和辣椒，放入韭黄炒趴</li>
<li>调味，加入鸡蛋翻炒 出锅</li>
</ol>
<h2 id="山西过油肉"><a href="#山西过油肉" class="headerlink" title="山西过油肉"></a>山西过油肉</h2><ol>
<li>里脊肉切片,加料酒,酱油,盐,胡椒粉腌制十分钟</li>
<li>炸肉片放出备用</li>
<li>底油炒葱姜蒜,放入洋葱炒至透亮,放入木耳,肉片</li>
<li>翻炒加入汘汁, 收汤后加入香醋出锅</li>
</ol>
<h2 id="白灼生菜"><a href="#白灼生菜" class="headerlink" title="白灼生菜"></a>白灼生菜</h2><ol>
<li>生菜热水过一下, 5-6 秒的样子</li>
<li>加入酱油,盐调好的汁,白蒜末撒上面</li>
<li>上面浇点热油, 搅拌均匀 ok</li>
</ol>
<h2 id="蛋炒饭"><a href="#蛋炒饭" class="headerlink" title="蛋炒饭"></a>蛋炒饭</h2><ol>
<li>油热后放入鸡蛋打碎，放入腊肠火腿 玉米粒和葱姜蒜</li>
<li>翻炒均匀加入米饭和香菇粒</li>
<li>小火炒几分钟至有锅气 加入酱油</li>
<li>大火翻炒均匀加入葱花翻炒几下 出锅</li>
</ol>
<h2 id="炒五花肉"><a href="#炒五花肉" class="headerlink" title="炒五花肉"></a>炒五花肉</h2><ol>
<li>锅里放入花椒八角桂皮干烤一会，放入热水，煮成花椒水</li>
<li>锅里加少许植物油，油热只有放入葱姜末，放入料酒腌制好的五花肉</li>
<li>炒至五花肉变熟，加入准备好的花椒水，开大火煮</li>
<li>煮至汤汁收紧后加入适量酱油、干辣椒和蒜末翻炒均匀</li>
<li>加入适量香醋，出锅</li>
</ol>
<h2 id="西葫芦木耳炒鸡蛋"><a href="#西葫芦木耳炒鸡蛋" class="headerlink" title="西葫芦木耳炒鸡蛋"></a>西葫芦木耳炒鸡蛋</h2><ol>
<li>木耳焯水，放入凉水备用，鸡蛋炒好备用</li>
<li>少油烧热放入蒜末和干辣椒爆香，放入西葫芦片</li>
<li>翻炒至西葫芦熟，小火调味，加入酱油 盐 醋， 加入木耳和青椒， 翻炒均匀</li>
<li>加入炒好的鸡蛋翻炒均匀出锅</li>
</ol>
<h2 id="香菇油菜"><a href="#香菇油菜" class="headerlink" title="香菇油菜"></a>香菇油菜</h2><ol>
<li>香菇和青菜焯水</li>
<li>少油烧热 加入葱姜蒜爆香 加入香菇</li>
<li>翻炒均匀调味 加入盐 酱油 鸡精 香醋 翻炒后加入小油菜</li>
<li>加点淀粉水勾芡，翻炒均匀 出锅</li>
</ol>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://sgw.wiki/2020/02/26/天生爱你/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="iiicon">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="一个没有情趣和色彩的人">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/02/26/天生爱你/" itemprop="url">天生爱你</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2020-02-26T17:02:49+08:00">
                2020-02-26
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/综合/" itemprop="url" rel="index">
                    <span itemprop="name">综合</span>
                  </a>
                </span>

                
                
              
            </span>
          

          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote>
<p>特别喜欢幼杀的这首歌，心目中评价很高</p>
</blockquote>
<h3 id="verse"><a href="#verse" class="headerlink" title="verse"></a>verse</h3><p>[00:14.20]幼稚园杀手 天生爱你<br>[00:24.22]还记得那天 你离开的画面<br>[00:27.16]转身之后开始了无尽的挂念<br>[00:30.17]那是个充满希望而又伤感的夏天<br>[00:33.23]你陪伴在我身边已整整十八年<br>[00:36.31]忍不住留下眼泪却怕被对方发现<br>[00:39.15]望着你远去的背影我舍不得眨眼<br>[00:42.10]你只不过是站在了车窗的那边<br>[00:45.18]但我感觉我们之间相隔了那么远<br>[00:48.21]你也曾像那些美丽的女孩一样年轻着<br>[00:51.38]爱上了一个男孩你愿为他付出全心了<br>[00:54.41]原来爱和奉献是不需要任何原因的<br>[00:57.41]再也回不到从前就像列车一直前进着<br>[01:00.48]这世界上也许我是最渺小的那一个<br>[01:03.36]后到来是你生命中最幸福的那一个<br>[01:06.48]我知道你的心一直在呼唤着我回家<br>[01:09.34]在那些想你的夜我也不停潸然泪下<br>[01:36.38]生命只有一次 我只能爱你一世<br>[01:39.02]这种爱不会因为时间无情的流失而遗失<br>[01:42.02]总想听到你亲切的声音 每当我迷失<br>[01:45.05]虽然对于生活我有多么地难以启齿<br>[01:47.97]在电话里牵强的告诉你我过得很好<br>[01:51.17]尽管太多事情不尽人意总让我心情很糟<br>[01:53.94]直到你告诉我她的病最终无法医治<br>[01:56.95]没有留下一声告别就这样悄悄的去世<br>[01:59.85]汹涌的悲伤没办法医治<br>[02:01.61]放声的哭喊失去了理智<br>[02:03.07]一切太突然却没有预示<br>[02:04.54]不断的失去人们却从未意识</p>
<h3 id="hook"><a href="#hook" class="headerlink" title="hook"></a>hook</h3><p>郭采洁的《I Remenber》</p>
<p>Do you know that I’m OK?<br>Are there things you wanna say?<br>Thinking of you night and day<br>Hopping you’ll come back and stay<br>I remember when you told me<br>I’ll be all right<br>Don’t worry…<br><em>I try and try to understand…<br>Is all this just a sad good bye?<br>Thinking of you night and day…<br>No matter if you’ll come and stay<br>I remember when you told me<br>I’ll be all right<br>Just hold me…<br>I don’t wanna close my eyes tonight<br>Missing you make me cry<br>Your love will give me strengths<br>to carry on<br>You’ll always be my heart<br>and mind<br>So I don’t wanna close my<br>eyes tonight<br>I know it’s just a miss<br>match in time…<br>Why…oh …why<br>Miss match in time</em></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://sgw.wiki/2020/02/26/element-ui的一些表格处理/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="iiicon">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="一个没有情趣和色彩的人">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/02/26/element-ui的一些表格处理/" itemprop="url">element-ui的一些表格处理</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2020-02-26T16:57:38+08:00">
                2020-02-26
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/vue/" itemprop="url" rel="index">
                    <span itemprop="name">vue</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><em>2020 疫情到来，转眼就休息了两个月，是时候开始新的征程了，加油 XD</em></p>
<h3 id="应用一（表格合并）"><a href="#应用一（表格合并）" class="headerlink" title="应用一（表格合并）"></a>应用一（表格合并）</h3><p>总体思路就是把需要合并索引放到一个二维数组里，这个二维数组代表每一列，每一列里不是 0 的就是合并的行数，<br>具体做法就是用类似于计数排序的思路（对应hash的每一个值去计数），如果下一行的某个属性和上一行的某个属性相同，我们就要索引值加 1，数组里也要相应的补 0，<br>如果不相同，就补 1，并定位到当前位置，这样我们就能得到我们的一个二维数组，再通过 objectSpanMethod 取到对应的值去合并表格</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      position: 0,</span><br><span class="line">      spanArr: [] // 二维数组</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    rowspan(idx, prop) &#123;</span><br><span class="line">      this.spanArr[idx] = [];</span><br><span class="line">      this.position = 0;</span><br><span class="line">      this.tableData.forEach((item, index) =&gt; &#123;</span><br><span class="line">        if (index === 0) &#123;</span><br><span class="line">          this.spanArr[idx].push(1);</span><br><span class="line">          this.position = 0;</span><br><span class="line">        &#125; else &#123;</span><br><span class="line">          if (this.tableData[index][prop] === this.tableData[index - 1][prop]) &#123;</span><br><span class="line">            this.spanArr[idx][this.position] += 1; // 有相同项</span><br><span class="line">            this.spanArr[idx].push(0); // 名称相同后往数组里面加一项0</span><br><span class="line">          &#125; else &#123;</span><br><span class="line">            this.spanArr[idx].push(1); //同列的前后两行单元格不相同</span><br><span class="line">            this.position = index;</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;,</span><br><span class="line">    objectSpanMethod(&#123; row, column, rowIndex, columnIndex &#125;) &#123;</span><br><span class="line">      if (columnIndex === 0) &#123;</span><br><span class="line">        const row = this.spanArr[0][rowIndex];</span><br><span class="line">        const col = row &gt; 0 ? 1 : 0;</span><br><span class="line">        return &#123;</span><br><span class="line">          rowspan: row,</span><br><span class="line">          colspan: col</span><br><span class="line">        &#125;;</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      if (this.paramsType === 1) &#123;</span><br><span class="line">        if (columnIndex === 1) &#123;</span><br><span class="line">          if (this.spanArr[1]) &#123;</span><br><span class="line">            const row = this.spanArr[1][rowIndex];</span><br><span class="line">            const col = row &gt; 0 ? 1 : 0;</span><br><span class="line">            return &#123;</span><br><span class="line">              rowspan: row,</span><br><span class="line">              colspan: col</span><br><span class="line">            &#125;;</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://sgw.wiki/2020/01/06/2019年终总结/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="iiicon">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="一个没有情趣和色彩的人">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/01/06/2019年终总结/" itemprop="url">2019年终总结</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2020-01-06T16:29:03+08:00">
                2020-01-06
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/总结/" itemprop="url" rel="index">
                    <span itemprop="name">总结</span>
                  </a>
                </span>

                
                
              
            </span>
          

          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="关于工作"><a href="#关于工作" class="headerlink" title="关于工作"></a>关于工作</h3><p>在过去的一年中，我在公司的岗位是前端工程师，负责或者参与开发了小灵，蓝精灵，企业端，服务中心，BI 的 h5 和 pc 端的若干版本，感觉很充实。<br>我们现在的技术栈主要围绕 vue，实现各种 h5 和 pc 的页面</p>
<h4 id="四月前"><a href="#四月前" class="headerlink" title="四月前"></a>四月前</h4><p>主要负责维护公司的官网，前端是 nodejs 框架 egg，静态资源部署在另一个项目，后来要把活动相关的页面迁移到 jpress，总体是迁移完成了，但是后来由于一些原因没有继续迭代，官网后来用 nuxt 重新开发了新的版本。</p>
<h4 id="四月到八月"><a href="#四月到八月" class="headerlink" title="四月到八月"></a>四月到八月</h4><p>主要负责了小灵和蓝精灵相关版本的开发，期间遇到的主要问题就是微信相关的问题<br>参与了官网的开发，nuxt 性能很优秀</p>
<p><a href="https://sgw.wiki/2019/04/24/h5%E9%A1%B9%E7%9B%AE%E6%80%BB%E7%BB%93/">小灵总结</a></p>
<p><a href="https://sgw.wiki/2019/12/06/h5%E9%A1%B9%E7%9B%AE%E6%80%BB%E7%BB%93%EF%BC%88xl2%EF%BC%89/">蓝精灵总结</a></p>
<p><a href="https://sgw.wiki/2019/05/23/nuxt-%E5%BC%80%E5%8F%91%E5%AE%98%E7%BD%91/">官网总结</a></p>
<h4 id="九月十月十一月"><a href="#九月十月十一月" class="headerlink" title="九月十月十一月"></a>九月十月十一月</h4><p>开发服务中心开票，社保请款，商保请款的相关功能<br>开发过程中尽量在业务层面做组件化，以降低页面的复杂度，增加可维护性，由于业务的复杂，期间也遇到了各种各样的问题，通过咨询同事和询问别人得以解决。</p>
<h4 id="十二月一月"><a href="#十二月一月" class="headerlink" title="十二月一月"></a>十二月一月</h4><p>先是负责开发了移动端的掌上柚数据，用来 BI 相关数据展示的一个 H5 项目，主要是用 @antv/F2 开发前端的图表，api 都比较全面，自定义也有比较好的支持<br>由于时间紧张所以遗留了一些组件交互上的问题，后期还要抽时间优化掉</p>
<p>现在在开发 BI 在麒麟里的展示，图表是 @antv/G2, 地图是@antv/L7, 总体 api 设计也比较统一<br>G2 是一套基于图形语法理论的可视化底层引擎，有自定义 canvas 还是 svg 的渲染，目前为了兼容更多的浏览器和数据量不是特别大，选择了 canvas 的渲染<br>L7 是 AntV 团队推出的基于 WebGL 的开源大规模地理空间数据可视分析开发框架<br>L7 在 1 月 6 日发布了自己的 2.0.0 的正式版，值得一提的是，期间遇到过一个 bug，当天提了隔天就发了新版，这种精神值得同行学习<br>而且得益于 ts 的发展，编译器中提示以及警告大大提高了开发效率</p>
<h3 id="关于未来"><a href="#关于未来" class="headerlink" title="关于未来"></a>关于未来</h3><p>接下来还应该思考如何维护以及迭代和重构一些代码，以保证可维护性，该解耦的组件尽量做到解耦，更多的支持配置化，方便后面修改，思考如何快速响应需求的变化<br>技术方面拓展了 react 和 ts，后面时间要把目前的这些技术搞清楚，习惯函数式，多看几本书，学习编译原理 - -</p>
<h3 id="关于生活"><a href="#关于生活" class="headerlink" title="关于生活"></a>关于生活</h3><p>平淡如水</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://sgw.wiki/2019/12/20/工具类函数/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="iiicon">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="一个没有情趣和色彩的人">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/12/20/工具类函数/" itemprop="url">工具类函数</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-12-20T11:31:11+08:00">
                2019-12-20
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/js-code/" itemprop="url" rel="index">
                    <span itemprop="name">js-code</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="是否是对象"><a href="#是否是对象" class="headerlink" title="是否是对象"></a>是否是对象</h3><pre><code>function isObject(val) {
  return val !== null &amp;&amp; typeof val === &quot;object&quot;;
}      
</code></pre><h3 id="是否是纯对象"><a href="#是否是纯对象" class="headerlink" title="是否是纯对象"></a>是否是纯对象</h3><pre><code>function isPlainObject(val) {
    return Object.prototype.toString.call(val) === &quot;[object Object]&quot;;
}    
</code></pre><h3 id="是否是日期对象"><a href="#是否是日期对象" class="headerlink" title="是否是日期对象"></a>是否是日期对象</h3><pre><code>function isDate(val) {
  return Object.prototype.toString.call(val) === &quot;[object Date]&quot;;
}    
</code></pre><h3 id="是否是-URLSearchParams-对象"><a href="#是否是-URLSearchParams-对象" class="headerlink" title="是否是 URLSearchParams 对象"></a>是否是 URLSearchParams 对象</h3><pre><code>function isURLSearchParams(val) {
  return typeof val !== &quot;undefined&quot; &amp;&amp; val instanceof URLSearchParams;
}
</code></pre><h3 id="是否是-FormData"><a href="#是否是-FormData" class="headerlink" title="是否是 FormData"></a>是否是 FormData</h3><pre><code>function isFormData(val) {
  return typeof val !== &quot;undefined&quot; &amp;&amp; val instanceof FormData;
}    
</code></pre><h3 id="是否是绝对地址"><a href="#是否是绝对地址" class="headerlink" title="是否是绝对地址"></a>是否是绝对地址</h3><pre><code>function isAbsoluteURL(url) {
  return /^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(url);
}    
</code></pre><h3 id="extend-合并两个对象的属性"><a href="#extend-合并两个对象的属性" class="headerlink" title="extend 合并两个对象的属性"></a>extend 合并两个对象的属性</h3><pre><code>function extend(to, from) {
  for (var i in from) {
    to[i] = from[i];
  }
  return to;
}
</code></pre><h3 id="合并-baseurl-和-url"><a href="#合并-baseurl-和-url" class="headerlink" title="合并 baseurl 和 url"></a>合并 baseurl 和 url</h3><pre><code>function combineURL(baseURL, relativeURL) {
  return relativeURL
    ? baseURL.replace(/\/+$/, &quot;&quot;) + &quot;/&quot; + relativeURL.replace(/^\/+/, &quot;&quot;)
    : baseURL;
}    
</code></pre><h3 id="对象合并（深拷贝）"><a href="#对象合并（深拷贝）" class="headerlink" title="对象合并（深拷贝）"></a>对象合并（深拷贝）</h3><pre><code>function deepMerge() {
  var objs = [];
  for (var _i = 0; _i &lt; arguments.length; _i++) {
    objs[_i] = arguments[_i];
  }
  var result = Object.create(null);
  objs.forEach(function(obj) {
    if (obj) {
      Object.keys(obj).forEach(function(key) {
        var val = obj[key];
        if (isPlainObject(val)) {
          if (isPlainObject(result[key])) {
            result[key] = deepMerge(result[key], val);
          } else {
            result[key] = deepMerge(val);
          }
        } else {
          result[key] = val;
        }
      });
    }
  });
  return result;
}
</code></pre>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://sgw.wiki/2019/12/20/TS工具类函数/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="iiicon">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="一个没有情趣和色彩的人">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/12/20/TS工具类函数/" itemprop="url">TS工具类函数</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-12-20T11:15:12+08:00">
                2019-12-20
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/js-code/" itemprop="url" rel="index">
                    <span itemprop="name">js-code</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="是否是对象"><a href="#是否是对象" class="headerlink" title="是否是对象"></a>是否是对象</h3><pre><code>export function isObject(val: any): val is Object {
  return val !== null &amp;&amp; typeof val === &quot;object&quot;;
}
</code></pre><h3 id="是否是纯对象"><a href="#是否是纯对象" class="headerlink" title="是否是纯对象"></a>是否是纯对象</h3><pre><code>export function isPlainObject(val: any): val is Object {
  return Object.prototype.toString.call(val) === &quot;[object Object]&quot;;
}
</code></pre><h3 id="是否是日期对象"><a href="#是否是日期对象" class="headerlink" title="是否是日期对象"></a>是否是日期对象</h3><pre><code>export function isDate(val: any): val is Date {
  return Object.prototype.toString.call(val) === &quot;[object Date]&quot;;
}
</code></pre><h3 id="是否是-URLSearchParams-对象"><a href="#是否是-URLSearchParams-对象" class="headerlink" title="是否是 URLSearchParams 对象"></a>是否是 URLSearchParams 对象</h3><pre><code>export function isURLSearchParams(val: any): val is URLSearchParams {
  return typeof val !== &quot;undefined&quot; &amp;&amp; val instanceof URLSearchParams;
}
</code></pre><h3 id="是否是-FormData"><a href="#是否是-FormData" class="headerlink" title="是否是 FormData"></a>是否是 FormData</h3><pre><code>export function isFormData(val: any): val is FormData {
  return typeof val !== &quot;undefined&quot; &amp;&amp; val instanceof FormData;
}
</code></pre><h3 id="是否是绝对地址"><a href="#是否是绝对地址" class="headerlink" title="是否是绝对地址"></a>是否是绝对地址</h3><pre><code>export function isAbsoluteURL(url: string): boolean {
  return /^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(url);
}
</code></pre><h3 id="extend-合并两个对象的属性"><a href="#extend-合并两个对象的属性" class="headerlink" title="extend 合并两个对象的属性"></a>extend 合并两个对象的属性</h3><pre><code>export function extend&lt;T, U&gt;(to: T, from: U): T &amp; U {
  for (const i in from) {
    (to as T &amp; U)[i] = from[i] as any;
  }
  return to as T &amp; U;
}
</code></pre><h3 id="合并-baseurl-和-url"><a href="#合并-baseurl-和-url" class="headerlink" title="合并 baseurl 和 url"></a>合并 baseurl 和 url</h3><pre><code>export function combineURL(baseURL: string, relativeURL?: string): string {
  return relativeURL
    ? baseURL.replace(/\/+$/, &quot;&quot;) + &quot;/&quot; + relativeURL.replace(/^\/+/, &quot;&quot;)
    : baseURL;
}
</code></pre><h3 id="对象合并（深拷贝）"><a href="#对象合并（深拷贝）" class="headerlink" title="对象合并（深拷贝）"></a>对象合并（深拷贝）</h3><pre><code>export function deepMerge(...objs: any[]): any {
  const result = Object.create(null);

  objs.forEach(obj =&gt; {
    if (obj) {
      Object.keys(obj).forEach(key =&gt; {
        const val = obj[key];
        if (isPlainObject(val)) {
          if (isPlainObject(result[key])) {
            result[key] = deepMerge(result[key], val);
          } else {
            result[key] = deepMerge(val);
          }
        } else {
          result[key] = val;
        }
      });
    }
  });

  return result;
}
</code></pre>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://sgw.wiki/2019/12/18/XSRF防御/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="iiicon">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="一个没有情趣和色彩的人">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/12/18/XSRF防御/" itemprop="url">XSRF防御</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-12-18T15:28:45+08:00">
                2019-12-18
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/web-安全/" itemprop="url" rel="index">
                    <span itemprop="name">web 安全</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="XSRF-又名-CSRF，它是前端常见的一种攻击方式，"><a href="#XSRF-又名-CSRF，它是前端常见的一种攻击方式，" class="headerlink" title="XSRF 又名 CSRF，它是前端常见的一种攻击方式，"></a>XSRF 又名 CSRF，它是前端常见的一种攻击方式，</h3><blockquote>
<p>CSRF 的防御手段有很多，比如验证请求的 referer，但是 referer 也是可以伪造的，所以杜绝此类攻击的一种方式是服务器端要求每次请求都包含一个 token，这个 token 不在前端生成，而是在我们每次访问站点的时候生成，并通过 set-cookie 的方式种到客户端，然后客户端发送请求的时候，从 cookie 中对应的字段读取出 token，然后添加到请求 headers 中。这样服务端就可以从请求 headers 中读取这个 token 并验证，由于这个 token 是很难伪造的，所以就能区分这个请求是否是用户正常发起的。</p>
</blockquote>
<p><img src="https://i.loli.net/2019/12/18/vnpR7tbIwyJAkS4.png" alt="xsrf.png"></p>
<h3 id="axios-会默认做三件事情"><a href="#axios-会默认做三件事情" class="headerlink" title="axios 会默认做三件事情"></a>axios 会默认做三件事情</h3><ul>
<li><p>首先判断如果是配置 withCredentials 为 true 或者是同域请求，我们才会请求 headers 添加 xsrf 相关的字段。</p>
</li>
<li><p>如果判断成功，尝试从 cookie 中读取 xsrf 的 token 值。</p>
</li>
<li><p>如果能读到，则把它添加到请求 headers 的 xsrf 相关字段中。</p>
</li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="page-number current">2</span><a class="page-number" href="/page/3/">3</a><span class="space">&hellip;</span><a class="page-number" href="/page/12/">12</a><a class="extend next" rel="next" href="/page/3/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image" src="/images/avatar.jpg" alt="iiicon">
            
              <p class="site-author-name" itemprop="name">iiicon</p>
              <p class="site-description motion-element" itemprop="description">coding note and life perception 代码笔记和生活感悟</p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">117</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">16</span>
                  <span class="site-state-item-name">分类</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">49</span>
                  <span class="site-state-item-name">标签</span>
                </a>
              </div>
            

          </nav>

          

          

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">iiicon</span>

  
</div>


  <div class="powered-by">由 <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> 强力驱动</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Muse</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  

  
  

  

  

  

</body>
</html>
